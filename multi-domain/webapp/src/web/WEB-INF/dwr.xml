<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE dwr PUBLIC
 "-//GetAhead Limited//DTD Direct Web Remoting 1.0//EN"
 "http://www.getahead.ltd.uk/dwr/dwr10.dtd">
	
<dwr>
  <allow>
    <create creator="spring" javascript="DomainHandler" scope="session">
      <param name="beanName" value="DomainHandler"/>
      <include method="getDomains" />
    </create>

    <create creator="spring" javascript="RelationshipTypeHandler" scope="session">
      <param name="beanName" value="RelationshipTypeHandler"/>
      <include method="getTypes" /> 
      <include method="getRelationshipTypes" />
      <include method="addRelationshipType" />            
      <include method="deleteRelationshipType" /> 
      <include method="getRelationshipTypeCount" />
    </create>

    <create creator="spring" javascript="RelationshipHandler" scope="session">
      <param name="beanName" value="RelationshipHandler"/>
      <include method="searchRelationships" />
      <include method="getRelationship" />
      <include method="searchEnterprises" />
      <include method="getEnterprise" />
      <include method="addRelationship" />
      <include method="updateRelationship" />
      <include method="deleteRelationship" />
    
    </create>

    <create creator="spring" javascript="HierarchyTypeHandler" scope="session">
      <param name="beanName" value="HierarchyTypeHandler"/>
    </create>

    <create creator="spring" javascript="HierarchyHandler" scope="session">
      <param name="beanName" value="HierarchyHandler"/>
    </create>
    
    <!-- relationship definition handling -->
    <convert converter="bean" match="com.sun.mdm.multidomain.association.Domain">
        <param name="include" value="name" />
    </convert>		

    <convert converter="bean" match="com.sun.mdm.multidomain.relationship.RelationshipType">
        <param name="include" value="name, sourceDomain, targetDomain, attributes" />
    </convert>	

    <convert converter="bean" match="com.sun.mdm.multidomain.association.Attribute">
        <param name="include" value="name" />
    </convert>	
        
    <!-- relationship handling-->    
    <convert converter="bean" match="com.sun.mdm.multidomain.services.model.DomainSearch">
        <param name="include" value="name, type, attributes" />
    </convert>	        
    <convert converter="bean" match="com.sun.mdm.multidomain.services.model.RelationshipSearch">
        <param name="include" value="name, attributes" />
    </convert>	
        
    <convert converter="bean" match="com.sun.mdm.multidomain.services.relationship.Attribute">
        <param name="include" value="name, value" />
    </convert>	
    
    <convert converter="bean" match="com.sun.mdm.multidomain.services.relationship.RelationshipView">     
        <param name="include" value="name,id,sourceDomain,targetDomain,sourceEUID,targetEUID,sourceHighLight,targetHighLight" />
    </convert> 
      <convert converter="bean" match="com.sun.mdm.multidomain.services.relationship.RelationshipRecord">
        <param name="include" value="name,id,sourceDomain,targetDomain,sourceEUID,targetEUID,startDate,endDate,purgeDate,attributes" />
    </convert>  
    <convert converter="bean" match="com.sun.mdm.multidomain.services.relationship.RelationshipComposite">
        <param name="include" value="sourceRecord,targetRecord,relationshipRecord" />
    </convert> 
   
    <convert converter="bean" match="com.sun.mdm.multidomain.services.model.ObjectView">
        <param name="include" value="name,EUID,highLight" />
    </convert>
    <convert converter="bean" match="com.sun.mdm.multidomain.services.model.ObjectRecord">
        <param name="include" value="name,EUID,attributes" />
    </convert>
    
    <convert match="com.sun.mdm.multidomain.services.core.ServiceException" converter="exception">
      <param name="include" value="message,lineNumber"/>
    </convert>
    <signatures>
        <![CDATA[
            import java.util.List;
            import com.sun.mdm.multidomain.association.Attribute;
            import com.sun.mdm.multidomain.relationship.RelationshipType;
            RelationshipType.setAttributes(List<Attribute> attributes);            
            List<Attribute> RelationshipType.getAttributes();  
        ]]>
        <![CDATA[
            import java.util.List;
            import com.sun.mdm.multidomain.services.relationship.Attribute;
            import com.sun.mdm.multidomain.services.model.DomainSearch;
            import com.sun.mdm.multidomain.services.model.RelationshipSearch;
            DomainSearch.setAttributes(List<Attribute> attributes);            
            List<Attribute> DomainSearch.getAttributes();
            RelationshipSearch.setAttributes(List<Attribute> attributes);            
            List<Attribute> RelationshipSearch.getAttributes();     
        ]]>        
        <![CDATA[
            import java.util.List;
            import com.sun.mdm.multidomain.services.model.ObjectRecord;
            import com.sun.mdm.multidomain.services.relationship.Attribute;
            import com.sun.mdm.multidomain.services.relationship.RelationshipRecord;
            ObjectRecord.setAttributes(List<Attribute> attributes);            
            List<Attribute> ObjectRecord.getAttributes();
            RelationshipRecord.setAttributes(List<Attribute> attributes);            
            List<Attribute> RelationshipRecord.getAttributes(); 
        ]]>   
        
    </signatures>
  </allow>
</dwr>
