<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE dwr PUBLIC
 "-//GetAhead Limited//DTD Direct Web Remoting 1.0//EN"
 "http://www.getahead.ltd.uk/dwr/dwr10.dtd">
	
<dwr>
  <allow>
    <create creator="spring" javascript="DomainHandler" scope="session">
      <param name="beanName" value="DomainHandler"/>
      <include method="getDomains" />
    </create>

    <create creator="spring" javascript="RelationshipDefHandler" scope="session">
      <param name="beanName" value="RelationshipDefHandler"/>
      <include method="getDefs" /> 
      <include method="getRelationshipDefs" />
      <include method="addRelationshipDef" />            
      <include method="deleteRelationshipDef" /> 
      <include method="getRelationshipDefCount" />
      <include method="getDomainRelationshipDefObjects" />            
    </create>

    <create creator="spring" javascript="RelationshipHandler" scope="session">
      <param name="beanName" value="RelationshipHandler"/>
      <include method="searchRelationships" />
      <include method="getRelationship" />
      <include method="searchEnterprises" />
      <include method="getEnterprise" />
      <include method="addRelationship" />
      <include method="updateRelationship" />
      <include method="deleteRelationship" />
      <include method="searchDomainRelationshipObjects" />      
    </create>

    <create creator="spring" javascript="HierarchyDefHandler" scope="session">
      <param name="beanName" value="HierarchyDefHandler"/>
      <include method="getHierarchyDefs" />
    </create>

    <create creator="spring" javascript="HierarchyHandler" scope="session">
      <param name="beanName" value="HierarchyHandler"/>
    </create>
    
    <!-- relationship definition handling -->
    <convert converter="bean" match="com.sun.mdm.multidomain.hierarchy.HierarchyDef">
        <param name="include" value="name, domain" />
    </convert>	
    
    <convert converter="bean" match="com.sun.mdm.multidomain.services.model.Domain">
        <param name="include" value="name" />
    </convert>		

    <convert converter="bean" match="com.sun.mdm.multidomain.relationship.RelationshipDef">
        <param name="include" value="name, sourceDomain, targetDomain, attributes" />
    </convert>	

    <convert converter="bean" match="com.sun.mdm.multidomain.services.relationship.RelationshipDefinitionView">
        <param name="include" value="name, id, sourceDomain, targetDomain, biDirection" />
    </convert>	

    <convert converter="bean" match="com.sun.mdm.multidomain.attributes.Attribute">
        <param name="include" value="name" />
    </convert>	

    <convert converter="bean" match="com.sun.mdm.multidomain.services.relationship.DomainRelationshipDefinitionObject">
        <param name="include" value="name, relationshipDefinitions" />
    </convert>	
        
    <convert converter="bean" match="com.sun.mdm.multidomain.services.relationship.DomainRelationshipObject">
        <param name="include" value="domain, primaryObject, relationshipViews" />
    </convert>	
        
    <!-- relationship handling-->    
    <convert converter="bean" match="com.sun.mdm.multidomain.services.model.DomainSearch">
        <param name="include" value="name, type, attributes" />
    </convert>	        
    <convert converter="bean" match="com.sun.mdm.multidomain.services.relationship.RelationshipSearch">
        <param name="include" value="name, attributes" />
    </convert>	
        
    <convert converter="bean" match="com.sun.mdm.multidomain.services.model.Attribute">
        <param name="include" value="name, value" />
    </convert>	
    
    <convert converter="bean" match="com.sun.mdm.multidomain.services.relationship.RelationshipView">     
        <param name="include" value="name,id,sourceDomain,targetDomain,sourceEUID,targetEUID,sourceHighLight,targetHighLight" />
    </convert> 
      <convert converter="bean" match="com.sun.mdm.multidomain.services.relationship.RelationshipRecord">
        <param name="include" value="name,id,sourceDomain,targetDomain,sourceEUID,targetEUID,startDate,endDate,purgeDate,attributes" />
    </convert>  
    <convert converter="bean" match="com.sun.mdm.multidomain.services.relationship.RelationshipComposite">
        <param name="include" value="sourceRecord,targetRecord,relationshipRecord" />
    </convert> 
   
    <convert converter="bean" match="com.sun.mdm.multidomain.services.model.ObjectView">
        <param name="include" value="name,EUID,highLight" />
    </convert>
    <convert converter="bean" match="com.sun.mdm.multidomain.services.model.ObjectRecord">
        <param name="include" value="name,EUID,attributes" />
    </convert>
    
    <convert match="com.sun.mdm.multidomain.services.core.ServiceException" converter="exception">
      <param name="include" value="message,lineNumber"/>
    </convert>
    
    <signatures>
        <![CDATA[
            import java.util.List;
            import java.util.Map;            
            import com.sun.mdm.multidomain.services.relationship.RelationshipView;            
            import com.sun.mdm.multidomain.services.relationship.RelationshipDefinitionView;                        
            import com.sun.mdm.multidomain.services.relationship.DomainRelationshipObject;            
            DomainRelationshipObject.setRelationshipViews(Map<RelationshipDefinitionView, List<RelationshipView>> relationshipViews);
            Map<RelationshipDefinitionView, List<RelationshipView>> DomainRelationshipObject.getRelationshipViews();  
        ]]>                
        <![CDATA[
            import java.util.List;
            import com.sun.mdm.multidomain.relationship.RelationshipDef;
            import com.sun.mdm.multidomain.services.relationship.DomainRelationshipDefinitionObject;
            DomainRelationshipDefinitionObject.setRelationshipDefinitions(List<RelationshipDef> relationshipDefinitions);
            List<RelationshipDef> DomainRelationshipDefinitionObject.getRelationshipDefinitions();  
        ]]>        
        <![CDATA[
            import java.util.List;
            import com.sun.mdm.multidomain.attributes.Attribute;
            import com.sun.mdm.multidomain.relationship.RelationshipDef;
            RelationshipDef.setAttributes(List<Attribute> attributes);            
            List<Attribute> RelationshipDef.getAttributes();  
        ]]>
        <![CDATA[
            import java.util.List;
            import com.sun.mdm.multidomain.services.model.Attribute;
            import com.sun.mdm.multidomain.services.model.DomainSearch;
            import com.sun.mdm.multidomain.services.relationship.RelationshipSearch;
            DomainSearch.setAttributes(List<Attribute> attributes);            
            List<Attribute> DomainSearch.getAttributes();
            RelationshipSearch.setAttributes(List<Attribute> attributes);            
            List<Attribute> RelationshipSearch.getAttributes();     
        ]]>        
        <![CDATA[
            import java.util.List;
            import com.sun.mdm.multidomain.services.model.ObjectRecord;
            import com.sun.mdm.multidomain.services.model.Attribute;
            import com.sun.mdm.multidomain.services.relationship.RelationshipRecord;
            ObjectRecord.setAttributes(List<Attribute> attributes);            
            List<Attribute> ObjectRecord.getAttributes();
            RelationshipRecord.setAttributes(List<Attribute> attributes);            
            List<Attribute> RelationshipRecord.getAttributes(); 
        ]]>   
        
    </signatures>
  </allow>
</dwr>
