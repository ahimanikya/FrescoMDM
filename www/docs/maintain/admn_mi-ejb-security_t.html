<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
   <title>Maintaining Master Indexes</title>

   <meta http-equiv="Content-type" content="text/html; charset=iso-8859-1">
   <meta http-equiv="content-language" content="en-US">
   <meta name="keywords" content="">
   <meta name="description" content="Maintaining Master Indexes provides instructions and information for various tasks involved in maintaining a  master index application. These tasks include setting up security for the Master Index Data Manager (MIDM), archiving and backing up the master index database, changing information in the database, running reports, and making changes to the master index files.">
   <meta name="date" content="2008-06-01">
   <meta name="author" content="Carol Thom">

   <link rel="stylesheet" type="text/css" href="https://mural.dev.java.net/css/muraldoc.css">
   </head>

<body>

   <!-- Copyright (c) 2008 Sun Microsystems, Inc. All rights reserved. -->
   <!-- Use is subject to license terms. -->

   <a name="top"></a>
   <h1>Maintaining Master Indexes</h1>
   <div class="articledate" style="margin-left: 0px;">Last Updated: June 2008</div>

   <div class="embeddedtocpane">
     <h5><span class="tocpageleft"><a href="admn_mi-maint-security_t.html">Previous</a></span>
         <span class="tocpageright"><a href="admn_mi-maint-reports_c.html">Next</a></span></h5>

     <h5><span class="toctitle">Contents</span></h5>
     <div class="embeddedtoc">
       <p class="toc level1"><a href="mevsmi.html">Maintaining Master Indexes</a></p>
<p class="toc level2"><a href="relatedtopics.html">Related Topics</a></p>
<p class="toc level2"><a href="admn_mi-maint-security_t.html">Defining Master Index Data Manager Security</a></p>
<p class="toc level3"><a href="admn_mi-maint-security_t.html#admn_mi-maint-usergroup_t">Define Master Index Data Manager User Roles</a></p>
<p class="toc level5"><a href="admn_mi-maint-security_t.html#gglyo">To Define a User Role</a></p>
<p class="toc level3 tocsp"><a href="admn_mi-maint-security_t.html#admn_mi-ejb-usergroup_t">Define EJB User Roles</a></p>
<p class="toc level5"><a href="admn_mi-maint-security_t.html#gglyoejb">To Define an EJB User Role</a></p>
<p class="toc level3 tocsp"><a href="admn_mi-maint-security_t.html#admn_mi-maint-users_t">Create Master Index Data Manager User Accounts</a></p>
<p class="toc level5"><a href="admn_mi-maint-security_t.html#gglzn">To Create a User Account</a></p>
<p class="toc level3 tocsp"><a href="admn_mi-maint-security_t.html#admn_mi-maint-sec-grps_r">Master Index Data Manager User Role Properties</a></p>
<p class="toc level3"><a href="admn_mi-maint-security_t.html#admn_mi-maint-security_r">Master Index Data Manager User Permissions</a></p>
<p class="toc level3"><a href="admn_mi-maint-security_t.html#admn_mi-ejb-sec-grps_r">EJB User Role Properties</a></p>
<p class="toc level3"><a href="admn_mi-maint-security_t.html#admn_mi-ejb-security_r">EJB Security Functions</a></p>
<div class="onpage">
<p class="toc level2 tocsp"><a href="">Defining Web Services Security for Master Index</a></p>
<p class="toc level3"><a href="#admn_mi-ejb-service_t">Secure the Web Service</a></p>
<p class="toc level5"><a href="#ggwtr">To Secure the Web Service</a></p>
<p class="toc level3 tocsp"><a href="#admn_mi-ejb-client_t">Secure the Web Client</a></p>
<p class="toc level5"><a href="#ggwxx">To Secure the Web Client</a></p>
<p class="toc level3 tocsp"><a href="#admn_mi-ejb-users_t">Create Web Services User Accounts</a></p>
<p class="toc level5"><a href="#gglznejb">To Create a User Account</a></p>
</div>
<p class="toc level2 tocsp"><a href="admn_mi-maint-reports_c.html">Learning About Master Index Reports</a></p>
<p class="toc level3"><a href="admn_mi-maint-reports_c.html#admn_mi-reports-about_c">Master Index Command Line Reports</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_c.html#ahuas">About Production Reports</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_c.html#ahuat">About Activity Reports</a></p>
<p class="toc level3 tocsp"><a href="admn_mi-maint-reports_c.html#ahuav">Master Index Report Configuration</a></p>
<p class="toc level3"><a href="admn_mi-maint-reports_c.html#ahuaw">Creating Custom Master Index Reports</a></p>
<p class="toc level3"><a href="admn_mi-maint-reports_c.html#ahuax">Masked Data in Master Index Reports</a></p>
<p class="toc level3"><a href="admn_mi-maint-reports_c.html#admn_mi-reports-prod_c">Master Index Production Reports</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_c.html#ahuaz">Assumed Match Report</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_c.html#ahuba">Deactivated Record Report</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_c.html#ahubb">Potential Duplicate Report</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_c.html#ahubc">Merge Transaction Report</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_c.html#ahubd">UnMerge Transaction Report</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_c.html#ahube">Update Report</a></p>
<p class="toc level3 tocsp"><a href="admn_mi-maint-reports_c.html#admn_mi-reports-activity_c">Master Index Activity Reports</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_c.html#ahubg">Weekly Activity Report</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_c.html#ahubh">Monthly Activity Report</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_c.html#ahubi">Yearly Activity Report</a></p>
<p class="toc level3 tocsp"><a href="admn_mi-maint-reports_c.html#admn_mi-reports-index_c">Master Index Database Indexes</a></p>
<p class="toc level2 tocsp"><a href="admn_mi-maint-reports_t.html">Working With Master Index Command Line Reports</a></p>
<p class="toc level3"><a href="admn_mi-maint-reports_t.html#admn_mi-reports-conf_c">Configuring the Master Index Report Environment</a></p>
<p class="toc level5"><a href="admn_mi-maint-reports_t.html#ahucd">To Set up the Environment</a></p>
<p class="toc level3 tocsp"><a href="admn_mi-maint-reports_t.html#admn_mi-reports-conf-rep_c">Configuring Master Index Command Line Reports</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_t.html#ahucf">Defining the Command Line Report Configuration</a></p>
<p class="toc level4"><a href="admn_mi-maint-reports_t.html#ahuch">Configuring Command Line Reports</a></p>
<p class="toc level3 tocsp"><a href="admn_mi-maint-reports_t.html#admn_mi-maint-reports_r">Master Index Command Line Report Properties</a></p>
<p class="toc level3"><a href="admn_mi-maint-reports_t.html#admn_mi-reports-run_t">Running Master Index Command Line Reports</a></p>
<p class="toc level5"><a href="admn_mi-maint-reports_t.html#gfkvq">To Run the Reports Using the Batch File</a></p>
<p class="toc level5"><a href="admn_mi-maint-reports_t.html#gentextid-1437">To Run the Reports Using a Java Command</a></p>
<p class="toc level2 tocsp"><a href="admn_mi-maint-dbs-archive_c.html">Maintaining the Master Index Database</a></p>
<p class="toc level3"><a href="admn_mi-maint-dbs-archive_c.html#admn_mi-database-backup_c">Backing up the Master Index Database</a></p>
<p class="toc level4"><a href="admn_mi-maint-dbs-archive_c.html#ahaop">Online Backups</a></p>
<p class="toc level4"><a href="admn_mi-maint-dbs-archive_c.html#ahaoq">Offline Backups</a></p>
<p class="toc level3 tocsp"><a href="admn_mi-maint-dbs-archive_c.html#admn_mi-database-restore_c">Restoring the Master Index Database</a></p>
<p class="toc level3"><a href="admn_mi-maint-dbs-archive_c.html#admn_mi-database-archive_c">Archiving Master Index Data</a></p>
<p class="toc level2 tocsp"><a href="admin_mi-maint-project_c.html">Implementing Changes to the Master Index Project</a></p>
<p class="toc level3"><a href="admin_mi-maint-project_c.html#admn_mi-project-cfg_c">Modifying Master Index Configuration Files</a></p>
<p class="toc level4"><a href="admin_mi-maint-project_c.html#ahapi">Updating the Object Structure</a></p>
<p class="toc level4"><a href="admin_mi-maint-project_c.html#ahapj">Updating Normalization and Standardization Structures</a></p>
<p class="toc level4"><a href="admin_mi-maint-project_c.html#ahapk">Updating the Match String</a></p>
<p class="toc level3 tocsp"><a href="admin_mi-maint-project_c.html#admn_mi-project-dbs_c">Modifying the Master Index Database</a></p>
<p class="toc level3"><a href="admin_mi-maint-project_c.html#admn_mi-project-security_c">Modifying Master Index Security</a></p>
<p class="toc level3"><a href="admin_mi-maint-project_c.html#admn_mi-project-lid_c">Modifying the Local ID Format</a></p>

     </div>
   </div>


   <div class="maincontent">


<a name="admn_mi-ejb-security_t"></a>

<h2>Defining Web Services Security for Master Index</h2>
<p><a name="indexterm-5"></a><a name="indexterm-6"></a>Master Index Studio supports security at the user and function level for web
services and web service operations. A secure user name and password must be
defined for web service in order to connect to the master index application
and database. For each web service user account you define, you must specify
one or more roles in order for that web service to access any
of the functions of the master index application. One default role, MasterIndex.Admin, is
predefined and grants access to all functions. You define roles in the <tt>security.xml</tt>
file in the master index project.</p><p>Web services for Master Index Studio are secured using the default Web Service
Interoperability Technologies (WSIT) support provided by GlassFish and NetBeans. User accounts are created
using the GlassFish Admin Console. </p><p>Perform the following tasks to configure security for the master index application: </p>
<ul><li><p><a href="admn_mi-maint-security_t.html#admn_mi-ejb-usergroup_t">Define EJB User Roles</a></p></li>
<li><p><a href="#admn_mi-ejb-service_t">Secure the Web Service</a></p></li>
<li><p><a href="#admn_mi-ejb-client_t">Secure the Web Client</a></p></li>
<li><p><a href="#admn_mi-ejb-users_t">Create Web Services User Accounts</a></p></li></ul>
<p>Note that the master index application must be deployed and running in order
to perform some of these steps.</p>

<div class="indent"><a name="admn_mi-ejb-service_t"></a><h3>Secure the Web Service</h3>
<p>When you define security for a web service, you need to define
certain keystore information.</p>

<a name="ggwtr"></a><h5>To Secure the Web Service</h5>
<ol>
<li><b>Complete the steps under <a href="admn_mi-maint-security_t.html#admn_mi-ejb-usergroup_t">Define EJB User Roles</a>.</b></li>
<li><b>In the NetBeans Projects window, expand the master index EJB project and then
expand Web Services.</b><p>The web service project is named after the master index project with &ldquo;-ejb&rdquo;
appended; for example, Person-ejb.  </p></li>
<li><b>Right-click the name of the web service you want to secure, and then
select Edit Web Service Attributes</b><p>The Web Service Attributes window appears.</p><a name="ggwxc"></a><h6>Figure&nbsp;1 Edit Web Service Attributes</h6><img src="figures/QualityOfService.gif" alt="Figure shows the Quality of Service page on the Web Service Attributes window." width="412" height="404"></img></li>
<li><b>On the Web Service Attributes window, click the Quality of Service tab.</b></li>
<li><b>Select the check box next to Secure Service to enable WSIT security for
all web service operations.</b></li>
<li><b>In the Security Mechanism field, select Username Authentication with Symmetric Keys. </b></li>
<li><b>Deselect Use Development Defaults, and then click Keystore.</b><p>The Keystore Configuration dialog box appears.</p></li>
<li><b>Click Load Aliases, and then select <tt>xws-security-server</tt>.</b></li>
<li><b>Click OK on the Keystore Configuration dialog box.</b></li>
<li><b>Click OK on the Web Service Attributes window.</b></li>
<li><b>Continue to <a href="#admn_mi-ejb-client_t">Secure the Web Client</a>.</b></li></ol></div>


<div class="indent"><a name="admn_mi-ejb-client_t"></a><h3>Secure the Web Client</h3>
<p>To secure the web client, you need to provide the server's certificate to
the client's truststore. Before performing this step, make sure you have created the
web client project that will access the master index application. The master index
application also needs to be deployed in order to successfully complete this step.</p>

<a name="ggwxx"></a><h5>To Secure the Web Client</h5>
<ol>
<li><b>Complete the steps under <a href="#admn_mi-ejb-service_t">Secure the Web Service</a>.</b></li>
<li><b>In the NetBeans Projects window, right-click the web application project, point to New,
and then select Web Service Client.</b><p>The New Web Service Client Wizard appears.</p><a name="ggwyl"></a><h6>Figure&nbsp;2 New Web Service Client Wizard</h6><img src="figures/NewWebServiceClient.gif" alt="Figure shows the wizard that helps you create a new web service client." width="467" height="313"></img></li>
<li><b>Select the Project field, and then click Browse.</b></li>
<li><b>In the Browse Web Services dialog, expand the name of the master index
EJB project, and then select <i>project_name</i>EJBService.</b><a name="ggwxb"></a><h6>Figure&nbsp;3 Browse Web Services Dialog Box</h6><img src="figures/ClientBrowseDialog.gif" alt="Figure shows the dialog box where you select the client service to secure." width="387" height="165"></img></li>
<li><b>Click OK.</b></li>
<li><b>On the New Web Service Client dialog box, click Finish.</b></li>
<li><b>In the NetBeans Projects window, expand the web client project, and then expand
Web Service References.</b></li>
<li><b>Right-click the web service reference you want to secure, and then select Edit
Web Service Attributes.</b><p>The Web Service Attributes window appears.</p><a name="ggwyk"></a><h6>Figure&nbsp;4 Edit Web Service Attributes</h6><img src="figures/EditClientRef.gif" alt="Figure shows the Quality of Service page on the Web Service Attributes window." width="433" height="318"></img></li>
<li><b>Click Quality of Service, and then expand Security.</b></li>
<li><b>Provide a user name and password (you will also need to add
these to the application server using the Admin Console later).</b>
<hr><p><b>Note - </b>For testing, you can enter a default user name and password. For a
production environment, you should configure Username Handler and Password Handler classes to eliminate
the risk in using default values.</p>
<hr>
</li>
<li><b>Provide the server's certificate by doing the following:</b><ol style="list-style-type: lower-alpha">

<li><b>Click Truststore.</b><p>The Truststore Configuration dialog box appears.</p></li>
<li><b>Click Load Aliases, and then select <tt>xws-security-server</tt>.</b></li>
<li><b>Click OK.</b></li></ol></li>
<li><b>On the Web Service Attributes window, click OK.</b></li>
<li><b>Continue to <a href="#admn_mi-ejb-users_t">Create Web Services User Accounts</a>.</b></li></ol></div>


<div class="indent"><a name="admn_mi-ejb-users_t"></a><h3>Create Web Services User Accounts</h3>
<p>You create user accounts for web service access using the GlassFish Admin Console.
You can assign any of the access roles you created in <a href="admn_mi-maint-security_t.html#admn_mi-ejb-usergroup_t">Define EJB User Roles</a>
to the user accounts you create.</p>

<a name="gglznejb"></a><h5>To Create a User Account</h5>
<ol>
<li><b>Complete the steps under <a href="#admn_mi-ejb-client_t">Secure the Web Client</a>.</b></li>
<li><b>Log in to the Admin Console.</b></li>
<li><b>In the left portion of the page, expand Configuration, expand Security, expand Realms,
and then select File. </b></li>
<li><b>On the Edit Realm page, select Manage Users.</b></li>
<li><b>On the File Users page, select New.</b></li>
<li><b>In the User ID field, enter a name for the user.</b></li>
<li><b>In the Group List field, enter one or more of the user
roles you defined in <tt>security.xml</tt>, or enter MasterIndex.Admin to grant access to all functions.
Separate multiple roles with a comma.</b></li>
<li><b>After you have added all required user roles, enter a password for the
user in the New Password field.</b></li>
<li><b>In the Confirm New Password field, enter the password again.</b></li>
<li><b>Click OK.</b></li></ol></div>

   </div>

   <div class="BottomPageControlPane">
      <table class="pagecontrol">
         <tr>
            <td class="pageleft">
               <a href="admn_mi-maint-security_t.html">Previous</a>
            </td>
            <td class="pageright">
               <a href="admn_mi-maint-reports_c.html">Next</a>
            </td>
         </tr>
      </table>

   </div>

</body>
</html>
